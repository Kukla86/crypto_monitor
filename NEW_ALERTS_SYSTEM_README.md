# üöÄ –ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–ª–µ—Ä—Ç–æ–≤ - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è

## üìã –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

–°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –±—ã–ª–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω–∞ –¥–ª—è –±–æ–ª–µ–µ —á–∞—Å—Ç–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–æ–≤ —Å —É–º–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π –∞–ª–µ—Ä—Ç–æ–≤, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è, –∞ –Ω–µ –∑–∞ 24 —á–∞—Å–∞.

## ‚ö° –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. **–ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏**
- **–ë—ã–ª–æ**: 60 —Å–µ–∫—É–Ω–¥ (1 –º–∏–Ω—É—Ç–∞)
- **–°—Ç–∞–ª–æ**: 300 —Å–µ–∫—É–Ω–¥ (5 –º–∏–Ω—É—Ç)
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ë–æ–ª–µ–µ —á–∞—Å—Ç—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–æ–≤

### 2. **–ü–æ—Ä–æ–≥–∏ –∞–ª–µ—Ä—Ç–æ–≤**
- **–¶–µ–Ω–∞**: 10% –æ—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è (–±—ã–ª–æ 15% –∑–∞ 24 —á–∞—Å–∞)
- **–û–±—ä–µ–º**: 50% –æ—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è (–±—ã–ª–æ 100% –∑–∞ 24 —á–∞—Å–∞)
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ë–æ–ª–µ–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –∞–ª–µ—Ä—Ç—ã

### 3. **–õ–æ–≥–∏–∫–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è**
- **–ë—ã–ª–æ**: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å 24-—á–∞—Å–æ–≤—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
- **–°—Ç–∞–ª–æ**: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø–æ—Å–ª–µ–¥–Ω–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ–º
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è

```python
# –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π
last_token_values = {}  # {symbol: {'price': float, 'volume': float, 'timestamp': float}}

def get_last_token_value(symbol: str, value_type: str = 'price') -> Optional[float]:
    """–ü–æ–ª—É—á–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞"""

def set_last_token_value(symbol: str, price: float = None, volume: float = None):
    """–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞"""

def calculate_change_from_last(current_value: float, last_value: float) -> float:
    """–í—ã—á–∏—Å–ª—è–µ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –æ—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è"""

def should_send_price_alert_from_last(symbol: str, current_price: float, threshold: float = 10.0) -> bool:
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –Ω—É–∂–Ω–æ –ª–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∞–ª–µ—Ä—Ç –æ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ü–µ–Ω—ã"""

def should_send_volume_alert_from_last(symbol: str, current_volume: float, threshold: float = 50.0) -> bool:
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –Ω—É–∂–Ω–æ –ª–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∞–ª–µ—Ä—Ç –æ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –æ–±—ä–µ–º–∞"""
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```env
# config.env
CHECK_INTERVAL=300                    # 5 –º–∏–Ω—É—Ç
PRICE_CHANGE_THRESHOLD=10            # 10% –æ—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
VOLUME_CHANGE_THRESHOLD=50           # 50% –æ—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
```

## üìä –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü–µ—Ä–≤—ã–π –∞–ª–µ—Ä—Ç
```
–¢–æ–∫–µ–Ω: FUEL
–¶–µ–Ω–∞: $0.50
–û–±—ä–µ–º: $1,000,000
–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –ê–ª–µ—Ä—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è (–ø–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫)
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–µ–Ω—ã –Ω–∞ 5%
```
–¢–æ–∫–µ–Ω: FUEL
–ü–æ—Å–ª–µ–¥–Ω—è—è —Ü–µ–Ω–∞: $0.50
–ù–æ–≤–∞—è —Ü–µ–Ω–∞: $0.525 (+5%)
–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚ùå –ê–ª–µ—Ä—Ç –ù–ï –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è (–º–µ–Ω—å—à–µ 10%)
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–µ–Ω—ã –Ω–∞ 15%
```
–¢–æ–∫–µ–Ω: FUEL
–ü–æ—Å–ª–µ–¥–Ω—è—è —Ü–µ–Ω–∞: $0.50
–ù–æ–≤–∞—è —Ü–µ–Ω–∞: $0.575 (+15%)
–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –ê–ª–µ—Ä—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è (–±–æ–ª—å—à–µ 10%)
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –ü–∞–¥–µ–Ω–∏–µ —Ü–µ–Ω—ã –Ω–∞ 12%
```
–¢–æ–∫–µ–Ω: FUEL
–ü–æ—Å–ª–µ–¥–Ω—è—è —Ü–µ–Ω–∞: $0.50
–ù–æ–≤–∞—è —Ü–µ–Ω–∞: $0.44 (-12%)
–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –ê–ª–µ—Ä—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è (–±–æ–ª—å—à–µ 10%)
```

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã

### 1. **–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
- –ê–ª–µ—Ä—Ç—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Å—Ä–∞–∑—É –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ø–æ—Ä–æ–≥–∞
- –ù–µ –Ω—É–∂–Ω–æ –∂–¥–∞—Ç—å 24 —á–∞—Å–∞ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

### 2. **–¢–æ—á–Ω–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ**
- –ö–∞–∂–¥–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è –æ—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
- –ù–µ—Ç –ø—Ä–æ–ø—É—Å–∫–∞ –≤–∞–∂–Ω—ã—Ö –¥–≤–∏–∂–µ–Ω–∏–π

### 3. **–ì–∏–±–∫–∏–µ –ø–æ—Ä–æ–≥–∏**
- 10% –¥–ª—è —Ü–µ–Ω—ã - —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º
- 50% –¥–ª—è –æ–±—ä–µ–º–∞ - —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —à—É–º

### 4. **–£–º–Ω–∞—è –ª–æ–≥–∏–∫–∞**
- –ü–µ—Ä–≤—ã–π –∞–ª–µ—Ä—Ç –≤—Å–µ–≥–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è
- –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –∞–ª–µ—Ä—Ç—ã —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã:

```bash
python3 test_new_alerts.py
```

–¢–µ—Å—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
- ‚úÖ –ü–µ—Ä–≤—ã–π –∞–ª–µ—Ä—Ç
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –º–µ–Ω—å—à–µ –ø–æ—Ä–æ–≥–∞
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –±–æ–ª—å—à–µ –ø–æ—Ä–æ–≥–∞
- ‚úÖ –ü–∞–¥–µ–Ω–∏–µ —Ü–µ–Ω—ã
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –æ–±—ä–µ–º–∞
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

## üìù –§–æ—Ä–º–∞—Ç –∞–ª–µ—Ä—Ç–æ–≤

### –ê–ª–µ—Ä—Ç –ø–æ —Ü–µ–Ω–µ
```
üöÄ FUEL –∏–∑–º–µ–Ω–∏–ª—Å—è –Ω–∞ 15.00% –æ—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
üí∞ –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞: $0.575000
üìä –û–±—ä–µ–º 24—á: $1,000,000
üè™ –ò—Å—Ç–æ—á–Ω–∏–∫: cex_binance
```

### –ê–ª–µ—Ä—Ç –ø–æ –æ–±—ä–µ–º—É
```
üöÄ FUEL –æ–±—ä–µ–º –∏–∑–º–µ–Ω–∏–ª—Å—è –Ω–∞ 60.00% –æ—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
üìä –¢–µ–∫—É—â–∏–π –æ–±—ä–µ–º: $1,600,000
üí∞ –¶–µ–Ω–∞: $0.440000
üè™ –ò—Å—Ç–æ—á–Ω–∏–∫: cex_binance
```

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è

### –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:
1. **–£–±—Ä–∞–Ω–∞ —Å—Ç–∞—Ä–∞—è —Å–∏—Å—Ç–µ–º–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏** –Ω–∞ 4 —á–∞—Å–∞
2. **–£–±—Ä–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ 24-—á–∞—Å–æ–≤—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π**
3. **–î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π**
4. **–ò–∑–º–µ–Ω–µ–Ω—ã –ø–æ—Ä–æ–≥–∏ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**

### –ß—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å:
1. **–§—É–Ω–∫—Ü–∏—è `send_alert()`** - –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
2. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
3. **Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
4. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ü–µ—Ä–≤—ã–µ –∞–ª–µ—Ä—Ç—ã**: –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ —Å–∏—Å—Ç–µ–º–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç –∞–ª–µ—Ä—Ç—ã –¥–ª—è –≤—Å–µ—Ö —Ç–æ–∫–µ–Ω–æ–≤
2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä–æ–≥–æ–≤**: –ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä–æ–≥–∏ –≤ `config.env`
3. **–ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏**: –ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –æ—Ç 10 —Å–µ–∫—É–Ω–¥ –¥–æ –ª—é–±–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
4. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: 5-–º–∏–Ω—É—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª —Å–Ω–∏–∂–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ API

## üöÄ –ó–∞–ø—É—Å–∫

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ! –ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
python3 monitor.py
```

–ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç:
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Ç–æ–∫–µ–Ω—ã –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
- –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∞–ª–µ—Ä—Ç—ã –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ü–µ–Ω—ã –Ω–∞ 10% –æ—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
- –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∞–ª–µ—Ä—Ç—ã –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –æ–±—ä–µ–º–∞ –Ω–∞ 50% –æ—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
- –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∫–∞–∂–¥–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –æ—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è 